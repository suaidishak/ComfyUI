{"last_node_id":51,"last_link_id":68,"nodes":[{"id":1,"type":"PhotoMakerLoader","pos":[1867.14015546431,153.30051609161916],"size":{"0":350,"1":70},"flags":{},"order":0,"mode":0,"outputs":[{"name":"PHOTOMAKER","type":"PHOTOMAKER","links":[1],"shape":3,"label":"PHOTOMAKER","slot_index":0}],"properties":{"Node name for S&R":"PhotoMakerLoader"},"widgets_values":["photomaker-v1.bin"]},{"id":19,"type":"Crop Face","pos":[1234.7227164457588,164.97831045200238],"size":{"0":315,"1":122},"flags":{},"order":12,"mode":0,"inputs":[{"name":"model","type":"RETINAFACE","link":21,"label":"model","slot_index":0},{"name":"image","type":"IMAGE","link":22,"label":"image"}],"outputs":[{"name":"face_image","type":"IMAGE","links":[23,24],"shape":3,"label":"face_image","slot_index":0},{"name":"preview","type":"IMAGE","links":null,"shape":3,"label":"preview"},{"name":"bbox","type":"BBOX","links":null,"shape":3,"label":"bbox"}],"properties":{"Node name for S&R":"Crop Face"},"widgets_values":[0.8,32]},{"id":21,"type":"PreviewImage","pos":[1574.722716445762,164.97831045200238],"size":{"0":210,"1":250},"flags":{},"order":14,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":24,"label":"images"}],"properties":{"Node name for S&R":"PreviewImage"}},{"id":20,"type":"Load RetinaFace","pos":[984.722716445758,164.97831045200238],"size":{"0":210,"1":26},"flags":{},"order":1,"mode":0,"outputs":[{"name":"MODEL","type":"RETINAFACE","links":[21],"shape":3,"label":"MODEL"}],"properties":{"Node name for S&R":"Load RetinaFace"}},{"id":33,"type":"CLIPTextEncodeSDXLRefiner","pos":[3995.7675766168272,211.96120144576804],"size":{"0":225.55105590820312,"1":126},"flags":{},"order":16,"mode":0,"inputs":[{"name":"clip","type":"CLIP","link":47,"label":"clip"},{"name":"text","type":"STRING","link":66,"widget":{"name":"text"},"label":"text","slot_index":1}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[42],"shape":3,"slot_index":0,"label":"CONDITIONING"}],"properties":{"Node name for S&R":"CLIPTextEncodeSDXLRefiner"},"widgets_values":[6,1024,1024,"1girl, hold a flower"],"color":"#232","bgcolor":"#353"},{"id":34,"type":"CLIPTextEncodeSDXLRefiner","pos":[3995.7675766168272,401.9612014457684],"size":{"0":229.35105895996094,"1":126},"flags":{},"order":18,"mode":0,"inputs":[{"name":"clip","type":"CLIP","link":49,"label":"clip"},{"name":"text","type":"STRING","link":60,"widget":{"name":"text"},"label":"text"}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[43],"shape":3,"slot_index":0,"label":"CONDITIONING"}],"properties":{"Node name for S&R":"CLIPTextEncodeSDXLRefiner"},"widgets_values":[3,1024,1024,"blurry, animation, 3d render, illustration, toy, puppet, claymation, low quality, flag, nasa, mission patch"],"color":"#322","bgcolor":"#533"},{"id":30,"type":"VAELoader","pos":[4285.767576616836,631.9612014457695],"size":{"0":358.75701904296875,"1":58},"flags":{},"order":2,"mode":0,"outputs":[{"name":"VAE","type":"VAE","links":[28],"shape":3,"slot_index":0,"label":"VAE"}],"properties":{"Node name for S&R":"VAELoader"},"widgets_values":["sdxl_vae.safetensors"],"color":"#223","bgcolor":"#335"},{"id":32,"type":"CheckpointLoaderSimple","pos":[3535.7675766168263,321.96120144576815],"size":{"0":390.1470031738281,"1":98},"flags":{},"order":3,"mode":0,"outputs":[{"name":"MODEL","type":"MODEL","links":[41],"slot_index":0,"label":"MODEL"},{"name":"CLIP","type":"CLIP","links":[47,49],"slot_index":1,"label":"CLIP"},{"name":"VAE","type":"VAE","links":[],"slot_index":2,"label":"VAE"}],"properties":{"Node name for S&R":"CheckpointLoaderSimple"},"widgets_values":["sd_xl_refiner_1.0.safetensors"],"color":"#223","bgcolor":"#335"},{"id":31,"type":"KSamplerAdvanced","pos":[4305.767576616836,121.96120144576801],"size":{"0":315,"1":334},"flags":{},"order":20,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":41,"label":"model"},{"name":"positive","type":"CONDITIONING","link":42,"label":"positive"},{"name":"negative","type":"CONDITIONING","link":43,"label":"negative"},{"name":"latent_image","type":"LATENT","link":44,"label":"latent_image"},{"name":"steps","type":"INT","link":45,"widget":{"name":"steps"},"label":"steps"},{"name":"start_at_step","type":"INT","link":46,"widget":{"name":"start_at_step"},"label":"start_at_step"}],"outputs":[{"name":"LATENT","type":"LATENT","links":[27],"shape":3,"slot_index":0,"label":"LATENT"}],"properties":{"Node name for S&R":"KSamplerAdvanced"},"widgets_values":["disable",38367743614756,"randomize",30,6.5,"dpmpp_2m_sde","karras",25,10000,"disable"],"color":"#2a363b","bgcolor":"#3f5159"},{"id":24,"type":"VAEDecode","pos":[4695.767576616834,181.96120144576804],"size":{"0":260,"1":70},"flags":{},"order":21,"mode":0,"inputs":[{"name":"samples","type":"LATENT","link":27,"label":"samples"},{"name":"vae","type":"VAE","link":28,"label":"vae"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[51],"slot_index":0,"label":"IMAGE"}],"properties":{"Node name for S&R":"VAEDecode"},"color":"#323","bgcolor":"#535"},{"id":49,"type":"Concat Text _O","pos":[252.92122802968117,160.8500737089809],"size":{"0":210,"1":120},"flags":{},"order":11,"mode":0,"inputs":[{"name":"text1","type":"STRING","link":63,"widget":{"name":"text1"},"label":"text1"}],"outputs":[{"name":"STRING","type":"STRING","links":[64],"shape":3,"label":"STRING","slot_index":0}],"title":"PhotoMakerTriggerWord","properties":{"Node name for S&R":"Concat Text _O"},"widgets_values":["","photomaker",", "]},{"id":2,"type":"PhotoMakerEncode","pos":[2270.8465716258233,157.33091139638833],"size":{"0":400,"1":200},"flags":{},"order":15,"mode":0,"inputs":[{"name":"photomaker","type":"PHOTOMAKER","link":1,"label":"photomaker"},{"name":"image","type":"IMAGE","link":23,"label":"image","slot_index":1},{"name":"clip","type":"CLIP","link":53,"label":"clip","slot_index":2},{"name":"text","type":"STRING","link":65,"widget":{"name":"text"},"label":"text"}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[54],"shape":3,"label":"CONDITIONING","slot_index":0}],"properties":{"Node name for S&R":"PhotoMakerEncode"},"widgets_values":["asian girl, xxmixgirl, photomaker"]},{"id":27,"type":"PrimitiveNode","pos":[-87.07877197031895,330.85007370898086],"size":{"0":300,"1":140},"flags":{},"order":4,"mode":0,"outputs":[{"name":"STRING","type":"STRING","links":[61],"slot_index":0,"label":"STRING","widget":{"name":"text_negative"}}],"title":"negative","properties":{"Run widget replace on values":false},"widgets_values":["blurry, animation, 3d render, illustration, toy, puppet, claymation, low quality, flag, nasa, mission patch"]},{"id":48,"type":"Text box","pos":[-87.07877197031895,140.85007370898083],"size":{"0":310,"1":130},"flags":{},"order":5,"mode":0,"outputs":[{"name":"STRING","type":"STRING","links":[63],"shape":3,"label":"STRING","slot_index":0}],"title":"positive","properties":{"Node name for S&R":"Text box"},"widgets_values":["asian girl, xxmixgirl"]},{"id":37,"type":"PreviewImage","pos":[2420,-1220],"size":{"0":860,"1":910},"flags":{},"order":22,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":51,"label":"images"}],"title":"Output","properties":{"Node name for S&R":"PreviewImage"}},{"id":10,"type":"LoadImage","pos":[1490,-1210],"size":{"0":860,"1":890},"flags":{"pinned":false},"order":6,"mode":0,"outputs":[{"name":"IMAGE","type":"IMAGE","links":[22],"shape":3,"label":"IMAGE","slot_index":0},{"name":"MASK","type":"MASK","links":null,"shape":3,"label":"MASK"}],"title":"Input","properties":{"Node name for S&R":"LoadImage"},"widgets_values":["wh1 (1).jpeg","image"]},{"id":22,"type":"CheckpointLoaderSimple","pos":[-630,130],"size":{"0":420,"1":100},"flags":{},"order":7,"mode":0,"outputs":[{"name":"MODEL","type":"MODEL","links":[35],"slot_index":0,"label":"MODEL"},{"name":"CLIP","type":"CLIP","links":[32,53],"slot_index":1,"label":"CLIP"},{"name":"VAE","type":"VAE","links":[],"slot_index":2,"label":"VAE"}],"properties":{"Node name for S&R":"CheckpointLoaderSimple"},"widgets_values":["sdxl10ArienmixxlAsian_v30Pruned.safetensors"],"color":"#223","bgcolor":"#335"},{"id":28,"type":"CLIPTextEncodeSDXL","pos":[2790,290],"size":{"0":220,"1":220},"flags":{},"order":17,"mode":0,"inputs":[{"name":"clip","type":"CLIP","link":32,"label":"clip"},{"name":"text_g","type":"STRING","link":58,"widget":{"name":"text_g"},"slot_index":1,"label":"text_g"},{"name":"text_l","type":"STRING","link":59,"widget":{"name":"text_l"},"label":"text_l"}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[37],"shape":3,"slot_index":0,"label":"CONDITIONING"}],"properties":{"Node name for S&R":"CLIPTextEncodeSDXL"},"widgets_values":[4096,4096,0,0,4096,4096,"blurry, animation, 3d render, illustration, toy, puppet, claymation, low quality, flag, nasa, mission patch","blurry, animation, 3d render, illustration, toy, puppet, claymation, low quality, flag, nasa, mission patch"],"color":"#322","bgcolor":"#533"},{"id":23,"type":"EmptyLatentImage","pos":[2790,570],"size":{"0":220,"1":106},"flags":{},"order":8,"mode":0,"outputs":[{"name":"LATENT","type":"LATENT","links":[38],"slot_index":0,"label":"LATENT"}],"properties":{"Node name for S&R":"EmptyLatentImage"},"widgets_values":[1024,1024,1],"color":"#323","bgcolor":"#535"},{"id":36,"type":"PrimitiveNode","pos":[2800,730],"size":{"0":210,"1":80},"flags":{},"order":9,"mode":0,"outputs":[{"name":"INT","type":"INT","links":[39,45],"widget":{"name":"steps"},"slot_index":0,"label":"INT"}],"title":"total steps","properties":{"Run widget replace on values":false},"widgets_values":[30,"fixed"],"color":"#2a363b","bgcolor":"#3f5159"},{"id":35,"type":"PrimitiveNode","pos":[2800,860],"size":{"0":210,"1":80},"flags":{},"order":10,"mode":0,"outputs":[{"name":"INT","type":"INT","links":[40,46],"widget":{"name":"end_at_step"},"slot_index":0,"label":"INT"}],"title":"steps spent on base","properties":{"Run widget replace on values":false},"widgets_values":[25,"fixed"],"color":"#2a363b","bgcolor":"#3f5159"},{"id":29,"type":"KSamplerAdvanced","pos":[3110,140],"size":{"0":315,"1":334},"flags":{},"order":19,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":35,"label":"model"},{"name":"positive","type":"CONDITIONING","link":54,"label":"positive"},{"name":"negative","type":"CONDITIONING","link":37,"label":"negative"},{"name":"latent_image","type":"LATENT","link":38,"label":"latent_image"},{"name":"steps","type":"INT","link":39,"widget":{"name":"steps"},"slot_index":5,"label":"steps"},{"name":"end_at_step","type":"INT","link":40,"widget":{"name":"end_at_step"},"label":"end_at_step"}],"outputs":[{"name":"LATENT","type":"LATENT","links":[44],"shape":3,"slot_index":0,"label":"LATENT"}],"properties":{"Node name for S&R":"KSamplerAdvanced"},"widgets_values":["enable",402108527302509,"randomize",30,6.5,"dpmpp_2m_sde","exponential",0,25,"enable"],"color":"#2a363b","bgcolor":"#3f5159"},{"id":47,"type":"SDXLPromptStyler","pos":[500,210],"size":{"0":400,"1":240},"flags":{},"order":13,"mode":0,"inputs":[{"name":"text_positive","type":"STRING","link":64,"widget":{"name":"text_positive"},"slot_index":0,"label":"text_positive"},{"name":"text_negative","type":"STRING","link":61,"widget":{"name":"text_negative"},"label":"text_negative"}],"outputs":[{"name":"text_positive","type":"STRING","links":[65,66],"shape":3,"label":"text_positive","slot_index":0},{"name":"text_negative","type":"STRING","links":[58,59,60],"shape":3,"label":"text_negative","slot_index":1}],"properties":{"Node name for S&R":"SDXLPromptStyler"},"widgets_values":["","blurry, animation, 3d render, illustration, toy, puppet, claymation, low quality, flag, nasa, mission patch","artstyle-steampunk",true,true,true]}],"links":[[1,1,0,2,0,"PHOTOMAKER"],[21,20,0,19,0,"RETINAFACE"],[22,10,0,19,1,"IMAGE"],[23,19,0,2,1,"IMAGE"],[24,19,0,21,0,"IMAGE"],[27,31,0,24,0,"LATENT"],[28,30,0,24,1,"VAE"],[32,22,1,28,0,"CLIP"],[35,22,0,29,0,"MODEL"],[37,28,0,29,2,"CONDITIONING"],[38,23,0,29,3,"LATENT"],[39,36,0,29,4,"INT"],[40,35,0,29,5,"INT"],[41,32,0,31,0,"MODEL"],[42,33,0,31,1,"CONDITIONING"],[43,34,0,31,2,"CONDITIONING"],[44,29,0,31,3,"LATENT"],[45,36,0,31,4,"INT"],[46,35,0,31,5,"INT"],[47,32,1,33,0,"CLIP"],[49,32,1,34,0,"CLIP"],[51,24,0,37,0,"IMAGE"],[53,22,1,2,2,"CLIP"],[54,2,0,29,1,"CONDITIONING"],[58,47,1,28,1,"STRING"],[59,47,1,28,2,"STRING"],[60,47,1,34,1,"STRING"],[61,27,0,47,1,"STRING"],[63,48,0,49,0,"STRING"],[64,49,0,47,0,"STRING"],[65,47,0,2,3,"STRING"],[66,47,0,33,1,"STRING"]],"groups":[{"title":"Face","bounding":[950,47,858,396],"color":"#3f789e","font_size":24,"locked":false},{"title":"PhotoMaker","bounding":[1829,48,879,395],"color":"#3f789e","font_size":24,"locked":false},{"title":"BasicSDXL","bounding":[2734,48,732,919],"color":"#3f789e","font_size":24,"locked":false},{"title":"BasicSDXLRefiner","bounding":[3490,53,1550,653],"color":"#3f789e","font_size":24,"locked":false},{"title":"Prompt","bounding":[-142,40,1071,470],"color":"#3f789e","font_size":24,"locked":false},{"title":"LoadCheckpoint","bounding":[-753,40,594,215],"color":"#3f789e","font_size":24,"locked":false}],"config":{},"extra":{},"version":0.4}